{% extends 'layouts/front.html.twig' %}

{% block title %}Topics!{% endblock %}

{% block body %}
    <div class="d-flex mb-5">
        <span class="préH2">Sujet :</span>
        <h2 class="ms-2 pt-1">{{ topic.title }}</h2>
    </div>

    {% for message in messages %}
    <div class="bloc-message-topic mb-4">
        <div class="head-message-topic d-flex p-2 mb-3">
            <div class="circle-avatar me-3"></div>
            <div class="d-flex justify-content-between" style="width:100%">
                <div class="content-header">
                    <h4>{{ message.user.FirstName }} {{ message.user.LastName }}</h4>
                    <p style="color:blue">{{ message.CreatedAt|date('d-m-Y H:i') }}</p>
                </div>
                {% if app.user %}
                    {% if app.user.id == message.user.id %}
                    <div class="pe-3 pt-2">
                        <a href="{{ path('message_edit',{'id':message.id}) }}" class="btn btn-primary" >Editer</a>
                    </div>
                    {% endif %}
                {% endif %}
            </div>
        </div>
        <div class="content-message-topic p-2">
            <p>{{ message.content }}
        </div>
    </div>
    {% endfor %}

    <h3 class="mb-3">Répondre</h3>

    {{ include('message/_form.html.twig') }}

{% endblock %}
